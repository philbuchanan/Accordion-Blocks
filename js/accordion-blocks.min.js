function _s(t,e,i,s){void 0===e&&(e=400),void 0===s&&(s=!1),t.style.overflow="hidden",s&&(t.style.display="block");var o,n=window.getComputedStyle(t),r=parseFloat(n.getPropertyValue("height")),l=parseFloat(n.getPropertyValue("padding-top")),c=parseFloat(n.getPropertyValue("padding-bottom")),a=parseFloat(n.getPropertyValue("margin-top")),h=parseFloat(n.getPropertyValue("margin-bottom")),d=r/e,p=l/e,u=c/e,g=a/e,m=h/e;window.requestAnimationFrame((function n(y){void 0===o&&(o=y),y-=o,s?(t.style.height=d*y+"px",t.style.paddingTop=p*y+"px",t.style.paddingBottom=u*y+"px",t.style.marginTop=g*y+"px",t.style.marginBottom=m*y+"px"):(t.style.height=r-d*y+"px",t.style.paddingTop=l-p*y+"px",t.style.paddingBottom=c-u*y+"px",t.style.marginTop=a-g*y+"px",t.style.marginBottom=h-m*y+"px"),e<=y?(t.style.height="",t.style.paddingTop="",t.style.paddingBottom="",t.style.marginTop="",t.style.marginBottom="",t.style.overflow="",s||(t.style.display="none"),"function"==typeof i&&i()):window.requestAnimationFrame(n)}))}HTMLElement.prototype.slideToggle=function(t,e){0===this.clientHeight?_s(this,t,e,!0):_s(this,t,e)},HTMLElement.prototype.slideUp=function(t,e){_s(this,t,e)},HTMLElement.prototype.slideDown=function(t,e){_s(this,t,e,!0)};class AccordionItem extends HTMLElement{static get defaultConfig(){return{initiallyOpen:!1,openBreakpoint:0,autoClose:!0,clickToClose:!0,scroll:!1,scrollOffset:!1}}static get class(){return"js-accordion-item"}static get duration(){return 250}constructor(){super(),this.toggle=this.toggle.bind(this),this.onkeydown=this.onkeydown.bind(this),this.isOpen=!1,this.uuid=parseInt(this.dataset.uuid,10),this.classList.remove("no-js"),this.ancestors=this.getAncestors(),this.siblings=this.getSiblings(),this.controller=this.querySelector(":scope > #at-"+this.uuid),this.content=this.querySelector(":scope > #ac-"+this.uuid),this.controller.addEventListener("click",this.toggle),this.controller.addEventListener("keydown",this.onkeydown),this.controller.setAttribute("tabindex",0),this.controller.setAttribute("aria-controls","#ac-"+this.uuid),this.getConfig(),this.setAttributes(this.isOpen)}getAncestors(){let t=this,e=[];for(;null!=t.parentNode&&t.parentNode!=document.documentElement;)t.parentNode.classList.contains(AccordionItem.class)&&e.push(t.parentNode),t=t.parentNode;return e}getSiblings(){const t=[];return["previous","next"].forEach((e=>{let i=this;for(;i;)i[e+"ElementSibling"]&&"ACCORDION-ITEM"===i[e+"ElementSibling"].nodeName?(i=i[e+"ElementSibling"],t.push(i)):i=null})),t}getConfig(){const t={};for(const e in this.dataset)t[e]=this.maybeParse(this.dataset[e]);this.config=Object.assign({},AccordionItem.defaultConfig,t);(this.config.initiallyOpen&&window.innerWidth>=this.config.openBreakpoint||this.isInHash())&&(this.isOpen=!0,this.checkAncestors())}isInHash(){return parseInt(location.hash.replace("#",""),10)===this.uuid}maybeParse(t){return(()=>{try{return JSON.parse(t)}catch(e){return t}})()}onkeydown(t){"Escape"===t.key&&this.close(),"Space"!==t.code&&"Enter"!==t.key||"BUTTON"!==this.controller.nodeName&&(t.preventDefault(),t.stopPropagation(),this.toggle())}open(t={}){const{noSiblingsCheck:e,noScroll:i,noAncestorsCheck:s,noChecksAndScroll:o,noAnim:n}=t;this.isOpen=!0,this.content.removeAttribute("hidden"),this.content.slideDown(n?0:AccordionItem.duration,(()=>{this.setAttributes(!0),this.triggerResize()})),o||(i||this.scrollToElement(),s||this.checkAncestors(),e||this.checkSiblings())}maybeOpen(){!this.isOpen&&!this.isRead&&this.config.initiallyOpen&&window.innerWidth>=this.config.openBreakpoint&&this.open({noSiblingsCheck:!0,noScroll:!0})}close(t={}){const{noAnim:e,force:i}=t;(this.config.clickToClose||i)&&this.isOpen&&(this.isOpen=!1,this.content.slideUp(e?0:AccordionItem.duration,(()=>{this.setAttributes(!1),this.triggerResize()})))}toggle(){this[this.isOpen?"close":"open"]()}scrollToElement(){this.config.scroll&&setTimeout((()=>{requestIdleCallback((()=>{const t=this.getBoundingClientRect().top;scrollTo({top:t+document.documentElement.scrollTop-this.config.scrollOffset,behavior:"smooth"})}))}),AccordionItem.duration+150)}setAttributes(t=!0){t?(this.classList.add("is-read","is-open"),this.isRead=!0):this.classList.remove("is-open"),this.controller.setAttribute("aria-expanded",this.isOpen),t?this.content.removeAttribute("hidden"):this.content.setAttribute("hidden","until-found"),this.content.style=null}checkAncestors(){this.ancestors.forEach((t=>{t.isOpen||t.open({noSiblingsCheck:!0})}))}checkSiblings(){this.siblings.forEach((t=>{t.config.autoClose&&t.close({force:!0})}))}triggerResize(){const t=new Event("resize");t.isAfterToggle=!0,dispatchEvent(t)}}if("undefined"!=typeof customElements){customElements.define("accordion-item",AccordionItem);const t=document.querySelectorAll("accordion-item");let e;addEventListener("hashchange",(()=>{const t=location.hash.replace("#",""),e=document.querySelector(`[data-uuid="${t}"]`);e&&e instanceof AccordionItem&&e.open()}),{capture:!1}),addEventListener("resize",(i=>{i.isTrusted&&(clearTimeout(e),e=setTimeout((()=>{t.forEach((t=>t.maybeOpen()))}),150))}),{capture:!1})}
